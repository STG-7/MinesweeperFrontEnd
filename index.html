---
layout: home
search_exclude: true
image: images/logo.png
---
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<!--code for the login and registration forms that take username and password.-->
<body>
<style>
    #login {
        background: white;
        border-radius: 18px;
        margin-top: 10px;
        margin-bottom: 1%;
        margin-left: 25%;
        margin-right: 50%;
        block-size: 250px;
        height: auto;
    }
    #register {
        background: white;
        border-radius: 18px;
        margin-top: .01%;
        margin-bottom: 1%;
        margin-left: 50%;
        margin-right: 25%;
    }
    #login_invalid p {
        color: red;
    }
    form{
        margin-top: 2em;
        margin-bottom: 2em;
        margin-left: auto;
        margin-right: auto;
        width: 10em;
        font-size: 10px;
        position: 10px;
    }
</style>

<section id="minesweeper" style="display:none;">
    <div id="box">
         <h2>MINESWEEPER!</h2><hr><br><br>
         <p id="current_usr">Current User: </p>
            <div id="field"></div>
            <br>
          <div id="lost" style="display: none;">
            <h3>You got bombed!</h3>
            <button id="new-game-button" type="button" onclick="startGame()">Start Again</button>
          </div>         
    </div>
</section>
<section id="login" style="display:block;">
<!-- Login form for Minesweeper game, set display to false after successful login-->
    <form>
        <br>
        <h2>Login</h2>
        <label for="user">Username / Nombre de Usario:</label><br>
        <input type="text" id="usr_login" name="user" value=""><br>
        <label for="pass">Password / Clave:</label><br>
        <input type="password" id="pwd_login" name="pass" value=""><br><br>
        <p id="login_invalid"> </p>
        <!--use a button instead of input-->
        <button id ="login_submit" type='button'>SUBMIT/ENVIAR</button>
        <script>
            $("#login_submit").click(function() {
                let usr = document.getElementById("usr_login").value;
                let pwd = document.getElementById("pwd_login").value;
                let auth_url = "https://frost.nighthawkcodescrums.gq/api/auth/" + usr + "/" + pwd + "/verify";
                const headers = {
                        method: 'GET', // *GET, POST, PUT, DELETE, etc.
                        mode: 'cors', // no-cors, *cors, same-origin
                        cache: 'default', // *default, no-cache, reload, force-cache, only-if-cached
                        credentials: 'omit', // include, *same-origin, omit
                        headers: {'Content-Type': 'application/json'},
                };
                var xhr = new XMLHttpRequest();
                xhr.open("GET", auth_url);

                xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status == 200) {
                    let data = xhr.responseText;
                    console.log(data);
                    console.log(typeof data);
                    if (data == "true\n") {
                        document.getElementById("login").style.display = "none";
                        document.getElementById("register").style.display = "none";
                        document.getElementById("minesweeper").style.display = "block";
                        document.getElementById("current_usr").innerHTML = "Current User: " + document.getElementById("usr_login").value;
                    }
                    else {
                        document.getElementById("login_invalid").style.color = "red";
                        document.getElementById("login_invalid").style.fontWeight = 1000    ;
                        document.getElementById("login_invalid").innerHTML= "Login Credentials Incorrect, please try again";
                    };
                }};
                xhr.send();
            });
        </script>
        
    </form>
    <br>
</section>

<section id="register" style="display:block;">
<!-- Registration form for Minesweeper game, set display to false after successful login-->
    <form method="POST">
        <br>
        <h2>Register</h2>
        <label for="user">Username / Nombre de Usario:</label><br>
        <input type="text" id="rg_usr" name="user" value=""><br>
        <label for="pass">Password / Clave:</label><br>
        <input type="password" id="rg_pwd" name="pass" value=""><br><br>
        <p id="reg_message"> </p>
        <button id ="registration_submit" type='button'>SUBMIT/ENVIAR</button>
        <script>
            $("#registration_submit").click(function() {
                let usr = document.getElementById("rg_usr").value;
                let pwd = document.getElementById("rg_pwd").value;
                let auth_url = "https://frost.nighthawkcodescrums.gq/api/auth/" + usr + "/" + pwd + "/register";
                const headers = {
                        method: 'GET', // *GET, POST, PUT, DELETE, etc.
                        mode: 'cors', // no-cors, *cors, same-origin
                        cache: 'default', // *default, no-cache, reload, force-cache, only-if-cached
                        credentials: 'omit', // include, *same-origin, omit
                        headers: {'Content-Type': 'application/json'},
                };
                var xhr = new XMLHttpRequest();
                xhr.open("GET", auth_url);

                xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status == 200) {
                    let data = xhr.responseText;
                    console.log(data);
                    console.log(typeof data);
                    document.getElementById("reg_message").style.color = "green";
                    document.getElementById("reg_message").style.fontWeight = 1000    ;
                    document.getElementById("reg_message").innerHTML= "User \"" + document.getElementById("rg_usr").value + "\" has been created with the provided credentials";
                    };
                }
                xhr.send();
                });
        </script>
    </form>
    <br>

</section>

<style>
        /* (A) MINESWEEPER WRAPPER */
    #field {
    display: flex;
    flex-wrap: wrap;
    }
    
    /* (B) MINESWEEPER CELLS */
    #field .cell {
    box-sizing: border-box;
    background: #ddd;
    border: 30px solid #ccc;
    font-size: 40px;
    text-align: center;
    cursor: pointer;
    }
    #field .cell.reveal { background: #f7f7f7; }
</style>

<script>
    var components = {
    num_of_rows : 12,
    num_of_cols : 24,
    num_of_bombs : 55,
    bomb : 'ðŸ’£',
    alive : true,
    remaining : 0,
    colors : {1: 'blue', 2: 'green', 3: 'red', 4: 'purple', 5: 'maroon', 6: 'turquoise', 7: 'black', 8: 'grey'},
    board : []
    }

    
</script>

</body>

